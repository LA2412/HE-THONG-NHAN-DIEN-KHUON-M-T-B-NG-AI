<h2 align="center">
    <a href="https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin">
    ğŸ“ Faculty of Information Technology (DaiNam University)
    </a>
</h2>
<h2 align="center">
   Há»† THá»NG QUáº¢N LÃ THá»¦ VIá»†N Sá» MGX
</h2>

<div align="center">

[![AIoTLab](https://img.shields.io/badge/AIoTLab-green?style=for-the-badge)](https://www.facebook.com/DNUAIoTLab)
[![Faculty of Information Technology](https://img.shields.io/badge/Faculty%20of%20Information%20Technology-blue?style=for-the-badge)](https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin)
[![DaiNam University](https://img.shields.io/badge/DaiNam%20University-orange?style=for-the-badge)](https://dainam.edu.vn)

</div>

## ï¿½ **1. Giá»›i thiá»‡u há»‡ thá»‘ng**  

**Há»‡ thá»‘ng Nháº­n diá»‡n KhuÃ´n máº·t AI cho BÃ¡n láº» ThÃ´ng minh** lÃ  má»™t giáº£i phÃ¡p toÃ n diá»‡n Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng **Flask (Python)** káº¿t há»£p **Deep Learning** vÃ  **Computer Vision**, cung cáº¥p Ä‘áº§y Ä‘á»§ cÃ¡c chá»©c nÄƒng nháº­n diá»‡n khÃ¡ch hÃ ng, quáº£n lÃ½ bÃ¡n hÃ ng, CRM vÃ  bÃ¡o cÃ¡o phÃ¢n tÃ­ch.

### **ğŸ¯ Má»¥c tiÃªu dá»± Ã¡n**
- ğŸ›ï¸ **NÃ¢ng cao tráº£i nghiá»‡m khÃ¡ch hÃ ng**: Nháº­n diá»‡n tá»± Ä‘á»™ng, gá»£i Ã½ sáº£n pháº©m cÃ¡ nhÃ¢n hÃ³a
- ï¿½ **Tá»‘i Æ°u hÃ³a quy trÃ¬nh bÃ¡n hÃ ng**: Tá»± Ä‘á»™ng hÃ³a quy trÃ¬nh thanh toÃ¡n vÃ  quáº£n lÃ½ tá»“n kho
- ï¿½ **PhÃ¢n tÃ­ch dá»¯ liá»‡u kinh doanh**: Dashboard thá»‘ng kÃª, bÃ¡o cÃ¡o doanh sá»‘ chi tiáº¿t
- ğŸ” **Báº£o máº­t vÃ  phÃ¢n quyá»n**: Há»‡ thá»‘ng phÃ¢n quyá»n rÃµ rÃ ng giá»¯a Admin vÃ  Staff

### **âœ¨ Äáº·c Ä‘iá»ƒm ná»•i báº­t**
- ğŸš€ **Web-based**: Truy cáº­p qua trÃ¬nh duyá»‡t, khÃ´ng cáº§n cÃ i Ä‘áº·t pháº§n má»m
- ğŸ¤– **AI-powered**: Sá»­ dá»¥ng FaceNet vÃ  YOLO cho nháº­n diá»‡n chÃ­nh xÃ¡c cao
- âš¡ **Real-time**: Nháº­n diá»‡n vÃ  cáº­p nháº­t dá»¯ liá»‡u tá»©c thá»i
- ğŸ“± **Responsive**: Giao diá»‡n thÃ¢n thiá»‡n, tÆ°Æ¡ng thÃ­ch má»i thiáº¿t bá»‹
- ğŸ”„ **Scalable**: Dá»… dÃ ng má»Ÿ rá»™ng vÃ  tÃ¹y chá»‰nh theo nhu cáº§u

---

---

## âœ¨ **2. TÃ­nh nÄƒng chÃ­nh**

### ğŸ” Há»‡ thá»‘ng xÃ¡c thá»±c & phÃ¢n quyá»n

- âœ… ÄÄƒng nháº­p an toÃ n vá»›i mÃ£ hÃ³a PBKDF2
- âœ… PhÃ¢n quyá»n vai trÃ²: **Admin** vÃ  **Staff**
- âœ… Quáº£n lÃ½ phiÃªn lÃ m viá»‡c (session) an toÃ n
- âœ… Nháº­t kÃ½ hoáº¡t Ä‘á»™ng chi tiáº¿t

### ğŸ‘¨â€ğŸ’¼ Chá»©c nÄƒng dÃ nh cho Quáº£n trá»‹ viÃªn (Admin)

#### Quáº£n lÃ½ nhÃ¢n viÃªn
- â• Táº¡o tÃ i khoáº£n nhÃ¢n viÃªn má»›i
- ğŸ”’ KhÃ³a/Má»Ÿ khÃ³a tÃ i khoáº£n
- ğŸ”‘ Äá»•i máº­t kháº©u vÃ  cáº­p nháº­t thÃ´ng tin
- ğŸ“Š Theo dÃµi hiá»‡u suáº¥t lÃ m viá»‡c

#### Quáº£n lÃ½ sáº£n pháº©m
- ğŸ“¦ ThÃªm/Sá»­a/XÃ³a sáº£n pháº©m
- ğŸ·ï¸ Quáº£n lÃ½ danh má»¥c sáº£n pháº©m
- ğŸ“ˆ Äiá»u chá»‰nh tá»“n kho
- ğŸ’° Cáº­p nháº­t giÃ¡ bÃ¡n

#### Quáº£n lÃ½ dá»¯ liá»‡u nháº­n diá»‡n
- ğŸ‘¤ Xem danh sÃ¡ch khuÃ´n máº·t Ä‘Ã£ Ä‘Äƒng kÃ½
- âœï¸ Äá»•i tÃªn, gá»™p há»“ sÆ¡ khÃ¡ch hÃ ng
- ğŸ—‘ï¸ XÃ³a dá»¯ liá»‡u khuÃ´n máº·t
- ğŸ”„ TÃ¡i huáº¥n luyá»‡n mÃ´ hÃ¬nh

#### Dashboard & BÃ¡o cÃ¡o
- ğŸ“Š Tá»•ng quan doanh sá»‘ theo ngÃ y/thÃ¡ng/nÄƒm
- ğŸ† Top khÃ¡ch hÃ ng thÃ¢n thiáº¿t
- ğŸ‘· Hiá»‡u suáº¥t nhÃ¢n viÃªn
- ğŸ“ Nháº­t kÃ½ Ä‘Äƒng nháº­p/hoáº¡t Ä‘á»™ng/nháº­n diá»‡n
- ğŸ“ˆ Biá»ƒu Ä‘á»“ phÃ¢n tÃ­ch xu hÆ°á»›ng

### ğŸ‘¨â€ğŸ’¼ Chá»©c nÄƒng dÃ nh cho NhÃ¢n viÃªn bÃ¡n hÃ ng (Staff)

#### Camera POS thÃ´ng minh
- ğŸ“¹ Camera tá»± Ä‘á»™ng báº­t vÃ  quÃ©t liÃªn tá»¥c
- âš¡ Nháº­n diá»‡n khÃ¡ch hÃ ng thá»i gian thá»±c
- ğŸ¯ Hiá»ƒn thá»‹ thÃ´ng tin khÃ¡ch hÃ ng ngay láº­p tá»©c
- ğŸ“œ Lá»‹ch sá»­ mua hÃ ng chi tiáº¿t

#### ÄÄƒng kÃ½ khÃ¡ch hÃ ng má»›i
- ğŸ¥ Quay video 10 giÃ¢y Ä‘á»ƒ Ä‘Äƒng kÃ½
- ğŸ¤– Tá»± Ä‘á»™ng táº¡o embedding khuÃ´n máº·t
- ğŸ’¾ LÆ°u trá»¯ video gá»‘c
- ğŸ“‹ Táº¡o há»“ sÆ¡ CRM hoÃ n chá»‰nh

#### Quáº£n lÃ½ bÃ¡n hÃ ng
- ğŸ” TÃ¬m kiáº¿m sáº£n pháº©m nhanh chÃ³ng
- ğŸ›’ Giá» hÃ ng trá»±c quan
- ğŸ’³ Táº¡o Ä‘Æ¡n hÃ ng dá»… dÃ ng
- ğŸ“¦ Tá»± Ä‘á»™ng trá»« tá»“n kho
- ğŸ Gá»£i Ã½ sáº£n pháº©m cÃ¡ nhÃ¢n hÃ³a

#### Dashboard nhÃ¢n viÃªn
- ğŸ“Š Thá»‘ng kÃª doanh sá»‘ cÃ¡ nhÃ¢n
- ğŸ“ Danh sÃ¡ch Ä‘Æ¡n hÃ ng Ä‘Ã£ xá»­ lÃ½
- ğŸ‘¥ Quáº£n lÃ½ khÃ¡ch hÃ ng
- ğŸ“ˆ Má»¥c tiÃªu vÃ  thÃ nh tÃ­ch

---

## ï¿½ **3. CÃ´ng nghá»‡ sá»­ dá»¥ng**  

<p align="center">
  <a href="https://www.python.org/">
    <img src="https://img.shields.io/badge/Python-3.8+-3776AB?style=for-the-badge&logo=python&logoColor=white" />
  </a>
  <a href="https://flask.palletsprojects.com/">
    <img src="https://img.shields.io/badge/Flask-2.0+-000000?style=for-the-badge&logo=flask&logoColor=white" />
  </a>
  <a href="https://www.mongodb.com/">
    <img src="https://img.shields.io/badge/MongoDB-4.0+-47A248?style=for-the-badge&logo=mongodb&logoColor=white" />
  </a>
  <a href="https://www.tensorflow.org/">
    <img src="https://img.shields.io/badge/TensorFlow-2.x-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white" />
  </a>
  <a href="https://opencv.org/">
    <img src="https://img.shields.io/badge/OpenCV-4.x-5C3EE8?style=for-the-badge&logo=opencv&logoColor=white" />
  </a>
  <a href="https://github.com/ultralytics/yolov5">
    <img src="https://img.shields.io/badge/YOLO-v5-00FFFF?style=for-the-badge&logo=yolo&logoColor=white" />
  </a>
</p>

### **ğŸ¤– AI & Machine Learning**
- ğŸ§  **TensorFlow/Keras**: Framework deep learning cho FaceNet
- ğŸ‘¤ **FaceNet (128D)**: MÃ´ hÃ¬nh embedding khuÃ´n máº·t, Ä‘á»™ chÃ­nh xÃ¡c cao
- ğŸ¯ **YOLO (Ultralytics)**: PhÃ¡t hiá»‡n khuÃ´n máº·t real-time nhanh vÃ  chÃ­nh xÃ¡c
- ğŸ” **FAISS (Facebook AI)**: Vector database tÃ¬m kiáº¿m similarity tá»‘c Ä‘á»™ cao
- âš¡ **ONNX Runtime**: Tá»‘i Æ°u hÃ³a inference performance
- ğŸš€ **OpenVINO**: TÄƒng tá»‘c trÃªn Intel CPU/GPU
- ğŸ“Š **MTCNN**: Multi-task CNN cho face detection

### **ğŸŒ Backend & Framework**
- ğŸ **Python 3.8+**: NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh
- ğŸŒ¶ï¸ **Flask 2.0+**: Lightweight web framework
- ğŸ—„ï¸ **MongoDB**: NoSQL database cho dá»¯ liá»‡u nghiá»‡p vá»¥
  - Collections: users, products, orders, customers, logs
- ğŸ“¦ **PyMongo**: MongoDB driver cho Python

### **ğŸ¨ Computer Vision & Processing**
- ğŸ“¸ **OpenCV (cv2)**: Xá»­ lÃ½ hÃ¬nh áº£nh, video real-time
- ğŸ”¢ **NumPy**: TÃ­nh toÃ¡n ma tráº­n vÃ  array operations
- ğŸ–¼ï¸ **Pillow (PIL)**: Xá»­ lÃ½ vÃ  chuyá»ƒn Ä‘á»•i Ä‘á»‹nh dáº¡ng áº£nh
- ğŸ¥ **AV**: Video streaming vÃ  codec handling

### **ğŸ’» Frontend**
- ğŸ¨ **HTML5/CSS3**: Giao diá»‡n web hiá»‡n Ä‘áº¡i
- âš¡ **JavaScript (ES6+)**: Client-side interaction
- ğŸ“¹ **WebRTC**: Camera streaming trong browser
- ğŸ¯ **AJAX/Fetch API**: Async data loading

### **ğŸ”§ Utilities & Tools**
- ğŸ” **PBKDF2**: Password hashing security
- ğŸ“ **JSON**: Data interchange format
- ğŸ“‚ **pathlib**: File system operations
- â° **datetime**: Timestamp vÃ  date handling

### **ğŸ“¦ ThÆ° viá»‡n Python chÃ­nh**
```python
faiss-cpu==1.7.4           # Vector similarity search
tensorflow==2.15.0         # Deep learning framework
keras==2.15.0              # High-level neural networks API
onnxruntime==1.16.3        # ONNX model inference
openvino==2023.2.0         # Intel optimization toolkit
opencv-python==4.8.1       # Computer vision library
mtcnn==0.1.1               # Face detection
ultralytics==8.0.220       # YOLO implementation
numpy==1.24.3              # Numerical computing
Pillow==10.1.0             # Image processing
av==10.0.0                 # Video handling
pymongo==4.6.0             # MongoDB driver
Flask==2.3.3               # Web framework
```

---

## ğŸ—ï¸ **4. Kiáº¿n trÃºc há»‡ thá»‘ng**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Admin Panel  â”‚  â”‚ Staff Panel  â”‚  â”‚ Login Page   â”‚             â”‚
â”‚  â”‚ (Flask HTML) â”‚  â”‚ (Flask HTML) â”‚  â”‚ (Flask HTML) â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Recognition UI: Camera Stream + Face Detection Box    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Application Layer (Flask app.py)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Routes & Controllers                                       â”‚    â”‚
â”‚  â”‚  - Authentication & Session Management                     â”‚    â”‚
â”‚  â”‚  - Admin Dashboard & Management                            â”‚    â”‚
â”‚  â”‚  - Staff POS & Recognition                                 â”‚    â”‚
â”‚  â”‚  - API Endpoints (JSON responses)                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Service Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   User   â”‚ â”‚ Product  â”‚ â”‚  Order   â”‚ â”‚ Customer  â”‚            â”‚
â”‚  â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚  Service  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Face   â”‚ â”‚Analytics â”‚ â”‚ Security â”‚                           â”‚
â”‚  â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Core AI Pipeline                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  1. Camera Input â†’ Frame Capture                        â”‚       â”‚
â”‚  â”‚  2. YOLO Detection â†’ Face Bounding Boxes               â”‚       â”‚
â”‚  â”‚  3. Face Cropping â†’ Preprocessing (160x160)            â”‚       â”‚
â”‚  â”‚  4. FaceNet Model â†’ 128D Embedding Vector              â”‚       â”‚
â”‚  â”‚  5. FAISS Search â†’ K-Nearest Neighbors                 â”‚       â”‚
â”‚  â”‚  6. ID Mapping â†’ Customer Profile (JSON)               â”‚       â”‚
â”‚  â”‚  7. Display Result â†’ UI Update                          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Core AI Components                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Detection   â”‚  â”‚  Recognition  â”‚  â”‚  VectorDB    â”‚            â”‚
â”‚  â”‚   (YOLO)     â”‚  â”‚   (FaceNet)   â”‚  â”‚   (FAISS)    â”‚            â”‚
â”‚  â”‚ detect_face  â”‚  â”‚  facenet.h5   â”‚  â”‚ face_index   â”‚            â”‚
â”‚  â”‚    .pt       â”‚  â”‚               â”‚  â”‚   .faiss     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Processing Layer                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Image Processor â”‚           â”‚ Video Processor â”‚                 â”‚
â”‚  â”‚ - Extract faces â”‚           â”‚ - Extract framesâ”‚                 â”‚
â”‚  â”‚ - Batch embed   â”‚           â”‚ - Save video    â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Data Layer                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚     MongoDB       â”‚              â”‚    File System      â”‚        â”‚
â”‚  â”‚  (Business Data)  â”‚              â”‚   (Media & Models)  â”‚        â”‚
â”‚  â”‚                   â”‚              â”‚                     â”‚        â”‚
â”‚  â”‚ â€¢ users           â”‚              â”‚ â€¢ database/         â”‚        â”‚
â”‚  â”‚ â€¢ products        â”‚              â”‚   - face_index.faissâ”‚        â”‚
â”‚  â”‚ â€¢ orders          â”‚              â”‚   - map_id_name.jsonâ”‚        â”‚
â”‚  â”‚ â€¢ customers       â”‚              â”‚   - data/video/     â”‚        â”‚
â”‚  â”‚ â€¢ activity_logs   â”‚              â”‚ â€¢ models/           â”‚        â”‚
â”‚  â”‚ â€¢ recognition_logsâ”‚              â”‚   - facenet.h5      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   - detect_face.pt  â”‚        â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ğŸ”„ Pipeline nháº­n diá»‡n khuÃ´n máº·t chi tiáº¿t**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Camera Input â”‚â”€â”€â”€â”€â–¶â”‚ YOLO Detect  â”‚â”€â”€â”€â”€â–¶â”‚ Face Crop    â”‚
â”‚ (640x480)    â”‚     â”‚ (Bounding Box)â”‚     â”‚ (160x160)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â”‚
                                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Result  â”‚â—€â”€â”€â”€â”€â”‚  ID Mapping  â”‚â—€â”€â”€â”€â”€â”‚ FaceNet Modelâ”‚
â”‚ (Customer    â”‚     â”‚  (JSON Map)  â”‚     â”‚ (128D Vector)â”‚
â”‚  Profile)    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â–²                    â”‚
                              â”‚                    â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  FAISS Search    â”‚â—€â”€â”‚ Normalize    â”‚
                     â”‚  (K-NN, k=1)     â”‚  â”‚ L2 Distance  â”‚
                     â”‚  Threshold: 1.0  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ğŸ“Š Data Flow**

```
User Login â†’ Session Auth â†’ Role Check â†’ Dashboard
                                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                       â–¼                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Admin   â”‚          â”‚  Staff   â”‚           â”‚ Customer â”‚
              â”‚Dashboard â”‚          â”‚   POS    â”‚           â”‚   View   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                     â”‚                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                       â”‚
        â–¼           â–¼           â–¼        â–¼                       â–¼
   [Manage]    [Manage]    [Manage]  [Camera]              [History]
    Users      Products     Faces    Recognition           [Profile]
                                          â”‚
                                          â–¼
                                   [AI Pipeline]
                                          â”‚
                                          â–¼
                                   [Customer DB]
                                          â”‚
                                          â–¼
                                   [Order Creation]
```

---

## ğŸ’» **5. YÃªu cáº§u há»‡ thá»‘ng**

### **ğŸ“Œ Pháº§n cá»©ng tá»‘i thiá»ƒu**
- **CPU**: Intel Core i5 tháº¿ há»‡ 8+ / AMD Ryzen 5 3000+ (khuyáº¿n nghá»‹ i7/Ryzen 7)
- **RAM**: 8GB (khuyáº¿n nghá»‹ 16GB cho training)
- **GPU**: KhÃ´ng báº¯t buá»™c (nhÆ°ng khuyáº¿n nghá»‹ NVIDIA GPU vá»›i CUDA cho inference nhanh hÆ¡n)
- **á»” cá»©ng**: 10GB dung lÆ°á»£ng trá»‘ng (SSD khuyáº¿n nghá»‹)
- **Webcam**: HD 720p trá»Ÿ lÃªn (khuyáº¿n nghá»‹ 1080p) vá»›i frame rate â‰¥ 30fps
- **Káº¿t ná»‘i**: LAN/WiFi á»•n Ä‘á»‹nh cho MongoDB connection

### **ğŸ–¥ï¸ Pháº§n má»m**
- **Há»‡ Ä‘iá»u hÃ nh**: 
  - Windows 10/11 (64-bit)
  - Ubuntu 20.04+ / Debian 11+
  - macOS 10.15 Catalina+
- **Python**: 3.8, 3.9, 3.10 hoáº·c 3.11 (khuyáº¿n nghá»‹ 3.10)
- **MongoDB**: 4.0 trá»Ÿ lÃªn (khuyáº¿n nghá»‹ 6.0+)
  - Community Edition hoáº·c Atlas (cloud)
- **Git**: Äá»ƒ clone repository
- **Browser**: Chrome 90+, Firefox 88+, Edge 90+ (há»— trá»£ WebRTC)

### **ğŸ”§ Dependencies**
- **Visual C++ Redistributable** (Windows): Cho OpenCV
- **CUDA Toolkit** (Optional): Náº¿u sá»­ dá»¥ng GPU
- **MongoDB Compass** (Optional): GUI tool Ä‘á»ƒ quáº£n lÃ½ database

---

## ğŸš€ **6. CÃ i Ä‘áº·t & Cháº¡y á»©ng dá»¥ng**

### **ğŸ“¥ BÆ°á»›c 1: Clone repository**

```powershell
# Clone project tá»« GitHub
git clone https://github.com/yourusername/Face-Recognite-AI-Edge-VietNam.git

# Di chuyá»ƒn vÃ o thÆ° má»¥c project
cd Face-Recognite-AI-Edge-VietNam
```

### **ğŸ”§ BÆ°á»›c 2: Táº¡o mÃ´i trÆ°á»ng áº£o (Virtual Environment)**

**TrÃªn Windows:**
```powershell
# Táº¡o virtual environment
python -m venv .venv

# KÃ­ch hoáº¡t
.\.venv\Scripts\activate

# Kiá»ƒm tra
python --version
```

**TrÃªn Linux/MacOS:**
```bash
# Táº¡o virtual environment
python3 -m venv .venv

# KÃ­ch hoáº¡t
source .venv/bin/activate

# Kiá»ƒm tra
python --version
```

Sau khi kÃ­ch hoáº¡t, báº¡n sáº½ tháº¥y `(.venv)` xuáº¥t hiá»‡n trÆ°á»›c dÃ²ng lá»‡nh.

### **ğŸ“¦ BÆ°á»›c 3: CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n**

```powershell
# Upgrade pip
python -m pip install --upgrade pip

# CÃ i Ä‘áº·t dependencies
pip install -r requirements.txt
```

**LÆ°u Ã½**: QuÃ¡ trÃ¬nh cÃ i Ä‘áº·t cÃ³ thá»ƒ máº¥t 5-10 phÃºt tÃ¹y theo tá»‘c Ä‘á»™ máº¡ng vÃ  cáº¥u hÃ¬nh mÃ¡y.

### **ğŸ—„ï¸ BÆ°á»›c 4: CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh MongoDB**

#### **Option 1: MongoDB Local**

**Windows:**
1. Táº£i MongoDB Community táº¡i: [mongodb.com/try/download/community](https://www.mongodb.com/try/download/community)
2. CÃ i Ä‘áº·t vá»›i tÃ¹y chá»n máº·c Ä‘á»‹nh
3. Khá»Ÿi Ä‘á»™ng MongoDB service:
```powershell
net start MongoDB
```

**Linux:**
```bash
# Ubuntu/Debian
sudo apt-get install -y mongodb
sudo systemctl start mongodb
sudo systemctl enable mongodb
```

**Kiá»ƒm tra káº¿t ná»‘i:**
```powershell
# Kiá»ƒm tra MongoDB Ä‘ang cháº¡y
mongosh --eval "db.runCommand({ ping: 1 })"
```

#### **Option 2: MongoDB Atlas (Cloud)**

1. ÄÄƒng kÃ½ tÃ i khoáº£n miá»…n phÃ­ táº¡i: [mongodb.com/cloud/atlas](https://www.mongodb.com/cloud/atlas)
2. Táº¡o cluster má»›i
3. Láº¥y connection string
4. Cáº­p nháº­t `MONGO_URI` trong file `src/config.py` hoáº·c biáº¿n mÃ´i trÆ°á»ng

### **âš™ï¸ BÆ°á»›c 5: Cáº¥u hÃ¬nh há»‡ thá»‘ng**

#### **Táº¡o file `.env` (tÃ¹y chá»n):**

```powershell
# Táº¡o file .env trong thÆ° má»¥c gá»‘c
echo "SECRET_KEY=your-super-secret-key-here" > .env
echo "MONGO_URI=mongodb://localhost:27017/deep-face-shop" >> .env
```

#### **Cáº¥u hÃ¬nh MongoDB URI:**

Má»Ÿ file `src/config.py` vÃ  kiá»ƒm tra:
```python
# MongoDB Configuration
MONGO_URI = os.getenv('MONGO_URI', 'mongodb://localhost:27017/deep-face-shop')
```

### **ğŸ¯ BÆ°á»›c 6: Khá»Ÿi táº¡o dá»¯ liá»‡u**

Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng khá»Ÿi táº¡o tÃ i khoáº£n admin máº·c Ä‘á»‹nh khi cháº¡y láº§n Ä‘áº§u:
- **Username**: `admin`
- **Password**: `admin123`

### **â–¶ï¸ BÆ°á»›c 7: Cháº¡y á»©ng dá»¥ng**

**Option 1: Cháº¡y Flask app (Web Dashboard):**
```powershell
# Cháº¡y Flask development server
python app.py

# Hoáº·c sá»­ dá»¥ng script start.sh (Linux/Mac)
bash start.sh
```

**Option 2: Cháº¡y Tkinter UI (Desktop Legacy):**
```powershell
python app_ui.py
```

**Server sáº½ khá»Ÿi Ä‘á»™ng táº¡i:**
- ğŸŒ **Local**: `http://127.0.0.1:5000`
- ğŸŒ **Network**: `http://<your-ip>:5000`

### **âœ… BÆ°á»›c 8: Truy cáº­p há»‡ thá»‘ng**

1. Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: `http://127.0.0.1:5000`
2. ÄÄƒng nháº­p vá»›i tÃ i khoáº£n admin máº·c Ä‘á»‹nh:
   - **Username**: `admin`
   - **Password**: `admin123`
3. Äá»•i máº­t kháº©u sau khi Ä‘Äƒng nháº­p láº§n Ä‘áº§u

---

## ğŸ‘¤ **7. TÃ i khoáº£n Ä‘Äƒng nháº­p máº·c Ä‘á»‹nh**

### **ğŸ” TÃ i khoáº£n Admin**
| ThÃ´ng tin | GiÃ¡ trá»‹ |
|-----------|---------|
| **Username** | `admin` |
| **Password** | `admin123` |
| **Role** | `admin` |
| **Quyá»n háº¡n** | ToÃ n quyá»n quáº£n trá»‹ há»‡ thá»‘ng |

### **ğŸ¯ HÆ°á»›ng dáº«n sá»­ dá»¥ng nhanh**

#### **Äá»‘i vá»›i Quáº£n trá»‹ viÃªn (Admin):**

**1. Quáº£n lÃ½ nhÃ¢n viÃªn:**
```
Admin Dashboard â†’ Users â†’ Add New Staff
- Nháº­p thÃ´ng tin nhÃ¢n viÃªn
- GÃ¡n vai trÃ² (admin/staff)
- Set password
```

**2. Quáº£n lÃ½ sáº£n pháº©m:**
```
Admin Dashboard â†’ Products â†’ Add Product
- Nháº­p thÃ´ng tin sáº£n pháº©m
- Upload áº£nh
- Set giÃ¡ vÃ  sá»‘ lÆ°á»£ng tá»“n kho
```

**3. Quáº£n lÃ½ khuÃ´n máº·t:**
```
Admin Dashboard â†’ Faces
- Xem danh sÃ¡ch khuÃ´n máº·t Ä‘Ã£ Ä‘Äƒng kÃ½
- Rename: Äá»•i tÃªn khÃ¡ch hÃ ng
- Delete: XÃ³a dá»¯ liá»‡u nháº­n diá»‡n
- Merge: Gá»™p nhiá»u profile trÃ¹ng láº·p
```

**4. Xem bÃ¡o cÃ¡o:**
```
Admin Dashboard â†’ Reports
- Doanh sá»‘ theo thá»i gian
- Top khÃ¡ch hÃ ng
- Top sáº£n pháº©m
- Activity logs
```

#### **Äá»‘i vá»›i NhÃ¢n viÃªn (Staff):**

**1. Nháº­n diá»‡n khÃ¡ch hÃ ng:**
```
Staff Dashboard â†’ Camera tá»± Ä‘á»™ng báº­t
- Äá»©ng trÆ°á»›c camera
- Há»‡ thá»‘ng tá»± Ä‘á»™ng nháº­n diá»‡n
- Hiá»ƒn thá»‹ thÃ´ng tin khÃ¡ch hÃ ng
- Xem lá»‹ch sá»­ mua hÃ ng
```

**2. ÄÄƒng kÃ½ khÃ¡ch má»›i:**
```
Staff Dashboard â†’ "Register New Customer"
- Nháº­p thÃ´ng tin khÃ¡ch hÃ ng
- Click "Record 10s Video"
- Äá»©ng trÆ°á»›c camera 10 giÃ¢y
- Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o embedding
- Save customer profile
```

**3. Táº¡o Ä‘Æ¡n hÃ ng:**
```
Staff Dashboard â†’ Products â†’ Add to Cart
- TÃ¬m sáº£n pháº©m
- Add to cart
- Select customer (Ä‘Ã£ nháº­n diá»‡n hoáº·c chá»n thá»§ cÃ´ng)
- Create Order
- Há»‡ thá»‘ng tá»± Ä‘á»™ng trá»« tá»“n kho
```

---

## ğŸ—‚ï¸ **8. Cáº¥u trÃºc thÆ° má»¥c dá»± Ã¡n**

```
Face-Recognite-AI-Edge-VietNam/
â”‚
â”œâ”€â”€ ğŸ“ app.py                            # Flask application chÃ­nh (Web Dashboard)
â”œâ”€â”€ ğŸ“ app_ui.py                         # Tkinter UI (Desktop Legacy App)
â”œâ”€â”€ ğŸ“ i.py                              # Script khá»Ÿi táº¡o hoáº·c utility
â”œâ”€â”€ ğŸ“„ README.md                         # TÃ i liá»‡u dá»± Ã¡n
â”œâ”€â”€ ğŸ“„ requirements.txt                  # Python dependencies
â”œâ”€â”€ ğŸ“œ start.sh                          # Shell script khá»Ÿi Ä‘á»™ng (Linux/Mac)
â”‚
â”œâ”€â”€ ğŸ“ src/                              # Source code chÃ­nh
â”‚   â”œâ”€â”€ ğŸ“ __init__.py
â”‚   â”œâ”€â”€ ğŸ“ config.py                     # Configuration settings
â”‚   â”œâ”€â”€ ğŸ“ utils.py                      # Utility functions
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ core/                         # Core AI modules
â”‚   â”‚   â”œâ”€â”€ ğŸ“ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“ detection.py              # YOLO face detection
â”‚   â”‚   â”œâ”€â”€ ğŸ“ recognition.py            # FaceNet recognition
â”‚   â”‚   â””â”€â”€ ğŸ“ vectordb.py               # FAISS vector database operations
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ data/                         # Data management
â”‚   â”‚   â”œâ”€â”€ ğŸ“ __init__.py
â”‚   â”‚   â””â”€â”€ ğŸ“ db.py                     # MongoDB connection & queries
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ processing/                   # Media processing
â”‚   â”‚   â”œâ”€â”€ ğŸ“ image_processor.py        # Image extraction & embedding
â”‚   â”‚   â””â”€â”€ ğŸ“ video_processor.py        # Video extraction & embedding
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ services/                     # Business logic services
â”‚       â”œâ”€â”€ ğŸ“ __init__.py
â”‚       â”œâ”€â”€ ğŸ“ analytics_service.py      # Analytics & statistics
â”‚       â”œâ”€â”€ ğŸ“ customer_service.py       # Customer management
â”‚       â”œâ”€â”€ ğŸ“ face_service.py           # Face registration & management
â”‚       â”œâ”€â”€ ğŸ“ order_service.py          # Order processing
â”‚       â”œâ”€â”€ ğŸ“ product_service.py        # Product management
â”‚       â”œâ”€â”€ ğŸ“ security.py               # Security utilities
â”‚       â””â”€â”€ ğŸ“ user_service.py           # User authentication & management
â”‚
â”œâ”€â”€ ğŸ“ database/                         # Database storage
â”‚   â”œâ”€â”€ ğŸ“ face_index.faiss              # FAISS index file (binary)
â”‚   â”œâ”€â”€ ğŸ“ map_id_name.json              # Face ID â†” Name mapping
â”‚   â””â”€â”€ ğŸ“ data/                         # Raw media storage
â”‚       â”œâ”€â”€ ğŸ“ video/                    # Video recordings
â”‚       â”‚   â”œâ”€â”€ 2_Nguyá»…n_Viáº¿t_Lá»£i/
â”‚       â”‚   â”œâ”€â”€ 3_Nguyen_Phuong_Nam/
â”‚       â”‚   â””â”€â”€ basic_video/
â”‚       â””â”€â”€ ğŸ“ image/                    # (Future: Image storage)
â”‚
â”œâ”€â”€ ğŸ“ models/                           # AI Models
â”‚   â”œâ”€â”€ ğŸ“ facenet.h5                    # FaceNet model (legacy)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ model detect/                 # Face detection models
â”‚   â”‚   â”œâ”€â”€ ğŸ““ cvt_model.ipynb           # Model conversion notebook
â”‚   â”‚   â”œâ”€â”€ ğŸ”¹ detect_face.pt            # YOLO PyTorch model
â”‚   â”‚   â”œâ”€â”€ ğŸ”¹ detect_face.onnx          # ONNX format
â”‚   â”‚   â”œâ”€â”€ ğŸ”¹ detect_face_int8.onnx     # INT8 quantized
â”‚   â”‚   â”œâ”€â”€ ğŸ“ detect_face_openvino_model/
â”‚   â”‚   â”‚   â”œâ”€â”€ detect_face.xml
â”‚   â”‚   â”‚   â””â”€â”€ metadata.yaml
â”‚   â”‚   â””â”€â”€ ğŸ“ detect_face_int8_openvino_model/
â”‚   â”‚       â”œâ”€â”€ detect_face.xml
â”‚   â”‚       â””â”€â”€ metadata.yaml
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ model recognite/              # Face recognition models
â”‚       â”œâ”€â”€ ğŸ”¹ Facenet_128.h5            # FaceNet Keras model (128D)
â”‚       â”œâ”€â”€ ğŸ”¹ facenet.tflite            # TFLite format
â”‚       â””â”€â”€ ğŸ”¹ facenet_int_quantized.tflite  # Quantized TFLite
â”‚
â”œâ”€â”€ ğŸ“ legacy_scripts/                   # Legacy/Helper scripts
â”‚   â”œâ”€â”€ ğŸ“ __init__.py
â”‚   â”œâ”€â”€ ğŸ“ additive_update_webcam.py     # Update database from webcam
â”‚   â”œâ”€â”€ ğŸ“ create_database.py            # Initialize face database
â”‚   â”œâ”€â”€ ğŸ“ delete_face.py                # Delete face from database
â”‚   â”œâ”€â”€ ğŸ“ register_live_timed.py        # Register face with timer
â”‚   â”œâ”€â”€ ğŸ“ register_video.py             # Register from video file
â”‚   â”œâ”€â”€ ğŸ“ register_webcam.py            # Register from webcam
â”‚   â””â”€â”€ ğŸ“ update_face.py                # Update existing face data
â”‚
â”œâ”€â”€ ğŸ“ templates/                        # Flask Jinja2 templates
â”‚   â”œâ”€â”€ ğŸ“ base.html                     # Base template
â”‚   â”œâ”€â”€ ğŸ“ login.html                    # Login page
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ admin/                        # Admin templates
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard.html            # Admin dashboard
â”‚   â”‚   â”œâ”€â”€ ğŸ“ users.html                # User management
â”‚   â”‚   â”œâ”€â”€ ğŸ“ products.html             # Product management
â”‚   â”‚   â”œâ”€â”€ ğŸ“ faces.html                # Face data management
â”‚   â”‚   â””â”€â”€ ğŸ“ reports.html              # Reports & analytics
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ staff/                        # Staff templates
â”‚       â”œâ”€â”€ ğŸ“ dashboard.html            # Staff POS dashboard
â”‚       â”œâ”€â”€ ğŸ“ customers.html            # Customer management
â”‚       â””â”€â”€ ğŸ“ orders.html               # Order management
â”‚
â””â”€â”€ ğŸ“ static/                           # Static files
    â”œâ”€â”€ ğŸ“ css/                          # Stylesheets
    â”‚   â””â”€â”€ ğŸ“ style.css                 # Main CSS file
    â”‚
    â”œâ”€â”€ ğŸ“ js/                           # JavaScript files
    â”‚   â””â”€â”€ ğŸ“ recognition.js            # Face recognition client-side logic
    â”‚
    â”œâ”€â”€ ğŸ“ uploads/                      # Uploaded files
    â”‚   â”œâ”€â”€ ğŸ“ avatars/                  # User avatars
    â”‚   â””â”€â”€ ğŸ“ products/                 # Product images
    â”‚
    â””â”€â”€ ğŸ“ img/                          # Static images & icons
```

### **ğŸ“Š Database Structure (MongoDB)**

```
deep-face-shop (Database)
â”‚
â”œâ”€â”€ ğŸ“Š users                    # User accounts
â”‚   â”œâ”€â”€ _id (ObjectId)
â”‚   â”œâ”€â”€ username (string)
â”‚   â”œâ”€â”€ password_hash (string)
â”‚   â”œâ”€â”€ email (string)
â”‚   â”œâ”€â”€ full_name (string)
â”‚   â”œâ”€â”€ role (string): admin/staff
â”‚   â”œâ”€â”€ is_active (boolean)
â”‚   â””â”€â”€ created_at (datetime)
â”‚
â”œâ”€â”€ ğŸ“Š products                 # Products catalog
â”‚   â”œâ”€â”€ _id (ObjectId)
â”‚   â”œâ”€â”€ name (string)
â”‚   â”œâ”€â”€ description (string)
â”‚   â”œâ”€â”€ price (float)
â”‚   â”œâ”€â”€ stock_quantity (int)
â”‚   â”œâ”€â”€ category (string)
â”‚   â”œâ”€â”€ image_url (string)
â”‚   â””â”€â”€ created_at (datetime)
â”‚
â”œâ”€â”€ ğŸ“Š customers                # Customer profiles
â”‚   â”œâ”€â”€ _id (ObjectId)
â”‚   â”œâ”€â”€ face_id (int)          # Link to FAISS index
â”‚   â”œâ”€â”€ name (string)
â”‚   â”œâ”€â”€ email (string)
â”‚   â”œâ”€â”€ phone (string)
â”‚   â”œâ”€â”€ total_orders (int)
â”‚   â”œâ”€â”€ total_spent (float)
â”‚   â”œâ”€â”€ last_visit (datetime)
â”‚   â””â”€â”€ created_at (datetime)
â”‚
â”œâ”€â”€ ğŸ“Š orders                   # Sales orders
â”‚   â”œâ”€â”€ _id (ObjectId)
â”‚   â”œâ”€â”€ customer_id (ObjectId)
â”‚   â”œâ”€â”€ staff_id (ObjectId)
â”‚   â”œâ”€â”€ items (array)
â”‚   â”‚   â”œâ”€â”€ product_id
â”‚   â”‚   â”œâ”€â”€ quantity
â”‚   â”‚   â””â”€â”€ price
â”‚   â”œâ”€â”€ total_amount (float)
â”‚   â”œâ”€â”€ status (string)
â”‚   â””â”€â”€ created_at (datetime)
â”‚
â”œâ”€â”€ ğŸ“Š activity_logs            # System activity logs
â”‚   â”œâ”€â”€ _id (ObjectId)
â”‚   â”œâ”€â”€ user_id (ObjectId)
â”‚   â”œâ”€â”€ action (string)
â”‚   â”œâ”€â”€ details (object)
â”‚   â”œâ”€â”€ ip_address (string)
â”‚   â””â”€â”€ timestamp (datetime)
â”‚
â””â”€â”€ ğŸ“Š recognition_logs         # Face recognition logs
    â”œâ”€â”€ _id (ObjectId)
    â”œâ”€â”€ face_id (int)
    â”œâ”€â”€ customer_id (ObjectId)
    â”œâ”€â”€ confidence (float)
    â”œâ”€â”€ camera_id (string)
    â””â”€â”€ timestamp (datetime)
```

---

## ğŸ–¼ï¸ **9. Giao diá»‡n há»‡ thá»‘ng**

### **9.1. Trang ÄÄƒng nháº­p**
<p align="center">
  <img src="docs/images/login.png" alt="Login Page" width="700"/>
  <br>
  <em>ğŸ” Giao diá»‡n Ä‘Äƒng nháº­p: Form xÃ¡c thá»±c vá»›i validation vÃ  security</em>
</p>

### **9.2. Admin Dashboard**
<p align="center">
  <img src="docs/images/admin-dashboard.png" alt="Admin Dashboard" width="700"/>
  <br>
  <em>ğŸ“Š Admin Dashboard: Thá»‘ng kÃª tá»•ng quan, biá»ƒu Ä‘á»“ vÃ  quáº£n lÃ½ há»‡ thá»‘ng</em>
</p>

### **9.3. Staff POS Dashboard**
<p align="center">
  <img src="docs/images/staff-dashboard.png" alt="Staff Dashboard" width="700"/>
  <br>
  <em>ğŸ’¼ Staff POS: Camera nháº­n diá»‡n real-time, thÃ´ng tin khÃ¡ch hÃ ng vÃ  quáº£n lÃ½ bÃ¡n hÃ ng</em>
</p>

### **9.4. Quáº£n lÃ½ Sáº£n pháº©m**
<p align="center">
  <img src="docs/images/products.png" alt="Products Management" width="700"/>
  <br>
  <em>ğŸ›ï¸ Quáº£n lÃ½ Sáº£n pháº©m: CRUD sáº£n pháº©m, quáº£n lÃ½ tá»“n kho vÃ  giÃ¡ bÃ¡n</em>
</p>

### **9.5. Quáº£n lÃ½ KhuÃ´n máº·t**
<p align="center">
  <img src="docs/images/faces.png" alt="Face Management" width="700"/>
  <br>
  <em>ğŸ‘¤ Quáº£n lÃ½ KhuÃ´n máº·t: Danh sÃ¡ch face ID, rename, delete vÃ  merge profiles</em>
</p>

### **9.6. ÄÄƒng kÃ½ KhÃ¡ch hÃ ng Má»›i**
<p align="center">
  <img src="docs/images/register-customer.png" alt="Register Customer" width="700"/>
  <br>
  <em>ğŸ“¹ ÄÄƒng kÃ½ khÃ¡ch hÃ ng: Quay video 10s, tá»± Ä‘á»™ng táº¡o embedding vÃ  lÆ°u profile</em>
</p>

### **9.7. BÃ¡o cÃ¡o & Thá»‘ng kÃª**
<p align="center">
  <img src="docs/images/reports.png" alt="Reports & Analytics" width="700"/>
  <br>
  <em>ğŸ“ˆ BÃ¡o cÃ¡o: Biá»ƒu Ä‘á»“ doanh sá»‘, top khÃ¡ch hÃ ng, top sáº£n pháº©m vÃ  activity logs</em>
</p>

---

## ğŸ¯ **10. HÆ°á»›ng dáº«n sá»­ dá»¥ng chi tiáº¿t**

### **10.1. Quy trÃ¬nh nháº­n diá»‡n khÃ¡ch hÃ ng**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. KhÃ¡ch hÃ ng bÆ°á»›c vÃ o cá»­a hÃ ng                       â”‚
â”‚     â†“                                                  â”‚
â”‚  2. Staff má»Ÿ POS Dashboard (camera tá»± Ä‘á»™ng báº­t)        â”‚
â”‚     â†“                                                  â”‚
â”‚  3. KhÃ¡ch hÃ ng Ä‘á»©ng trÆ°á»›c camera                       â”‚
â”‚     â†“                                                  â”‚
â”‚  4. Há»‡ thá»‘ng detect face báº±ng YOLO                     â”‚
â”‚     â†“                                                  â”‚
â”‚  5. Extract embedding 128D báº±ng FaceNet                â”‚
â”‚     â†“                                                  â”‚
â”‚  6. FAISS search trong database (threshold: 1.0)       â”‚
â”‚     â†“                                                  â”‚
â”‚  7a. TÃ¬m tháº¥y â†’ Hiá»ƒn thá»‹ thÃ´ng tin khÃ¡ch hÃ ng          â”‚
â”‚      - TÃªn, email, phone                               â”‚
â”‚      - Tá»•ng sá»‘ Ä‘Æ¡n hÃ ng                                â”‚
â”‚      - Tá»•ng chi tiÃªu                                   â”‚
â”‚      - Lá»‹ch sá»­ mua hÃ ng                                â”‚
â”‚      - Gá»£i Ã½ sáº£n pháº©m                                  â”‚
â”‚     â†“                                                  â”‚
â”‚  8. Staff táº¡o Ä‘Æ¡n hÃ ng má»›i hoáº·c tÆ° váº¥n                 â”‚
â”‚                                                        â”‚
â”‚  7b. KhÃ´ng tÃ¬m tháº¥y â†’ Hiá»ƒn thá»‹ "Unknown Customer"      â”‚
â”‚     â†“                                                  â”‚
â”‚  8. Staff click "Register New Customer"                â”‚
â”‚     â†“                                                  â”‚
â”‚  9. Nháº­p thÃ´ng tin + Quay video 10s                    â”‚
â”‚     â†“                                                  â”‚
â”‚ 10. Há»‡ thá»‘ng táº¡o embedding vÃ  lÆ°u vÃ o database         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **10.2. Quy trÃ¬nh Ä‘Äƒng kÃ½ khÃ¡ch hÃ ng má»›i**

**BÆ°á»›c 1: Nháº­p thÃ´ng tin cÆ¡ báº£n**
```
Staff Dashboard â†’ Register Customer
- Full Name: *
- Email: *
- Phone: *
- Address (optional)
```

**BÆ°á»›c 2: Quay video**
```
Click "Start Recording" button
- KhÃ¡ch hÃ ng Ä‘á»©ng trÆ°á»›c camera
- Giá»¯ khuÃ´n máº·t trong khung hÃ¬nh
- Quay trong 10 giÃ¢y
- CÃ³ thá»ƒ xoay nháº¹ Ä‘áº§u Ä‘á»ƒ láº¥y nhiá»u gÃ³c Ä‘á»™
```

**BÆ°á»›c 3: Há»‡ thá»‘ng xá»­ lÃ½ tá»± Ä‘á»™ng**
```
Processing:
1. Extract frames tá»« video
2. Detect faces trong má»—i frame (YOLO)
3. Crop vÃ  resize faces (160x160)
4. Generate embeddings cho má»—i face
5. TÃ­nh embedding trung bÃ¬nh
6. LÆ°u vÃ o FAISS index
7. Save video gá»‘c vÃ o database/data/video/
8. Create customer record trong MongoDB
9. Update map_id_name.json
```

**BÆ°á»›c 4: HoÃ n táº¥t**
```
Success message: "Customer registered successfully!"
- Face ID Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng
- Customer profile Ä‘Æ°á»£c lÆ°u
- CÃ³ thá»ƒ nháº­n diá»‡n ngay láº­p tá»©c
```

### **10.3. Quy trÃ¬nh táº¡o Ä‘Æ¡n hÃ ng**

```
Staff Dashboard â†’ Products
1. Search hoáº·c browse sáº£n pháº©m
2. Click "Add to Cart" cho tá»«ng sáº£n pháº©m
3. Äiá»u chá»‰nh sá»‘ lÆ°á»£ng trong giá» hÃ ng
4. Select customer (tá»« nháº­n diá»‡n hoáº·c dropdown)
5. Review order details
6. Click "Create Order"
7. Há»‡ thá»‘ng tá»± Ä‘á»™ng:
   - Trá»« tá»“n kho sáº£n pháº©m
   - Táº¡o order record
   - Update customer statistics
   - Log activity
8. Print receipt hoáº·c send email (future)
```

### **10.4. Quáº£n lÃ½ dá»¯ liá»‡u khuÃ´n máº·t (Admin)**

#### **Xem danh sÃ¡ch khuÃ´n máº·t:**
```
Admin Dashboard â†’ Faces
- Hiá»ƒn thá»‹ táº¥t cáº£ face_id vÃ  tÃªn
- Sá»‘ lÆ°á»£ng embeddings cho má»—i face
- NgÃ y táº¡o vÃ  cáº­p nháº­t cuá»‘i
```

#### **Äá»•i tÃªn khÃ¡ch hÃ ng:**
```
Faces â†’ Click "Rename" â†’ Enter new name
- Update map_id_name.json
- Update customer record trong MongoDB
- Log activity
```

#### **XÃ³a dá»¯ liá»‡u khuÃ´n máº·t:**
```
Faces â†’ Click "Delete" â†’ Confirm
Warning: HÃ nh Ä‘á»™ng nÃ y sáº½:
- XÃ³a embeddings khá»i FAISS index
- XÃ³a entry tá»« map_id_name.json
- XÃ³a video/áº£nh gá»‘c
- KHÃ”NG xÃ³a customer record (giá»¯ lá»‹ch sá»­)
```

#### **Gá»™p profiles trÃ¹ng láº·p:**
```
Faces â†’ Select multiple faces â†’ Click "Merge"
1. Chá»n face_id chÃ­nh (giá»¯ láº¡i)
2. CÃ¡c face_id khÃ¡c sáº½ Ä‘Æ°á»£c merge vÃ o
3. Embeddings Ä‘Æ°á»£c combine
4. Videos Ä‘Æ°á»£c move vÃ o folder chÃ­nh
5. Customer records Ä‘Æ°á»£c merge
```

#### **TÃ¡i huáº¥n luyá»‡n tá»« áº£nh:**
```
Legacy Scripts â†’ create_database.py
1. Äáº·t áº£nh vÃ o thÆ° má»¥c tÆ°Æ¡ng á»©ng
2. Cháº¡y script:
   python legacy_scripts/create_database.py
3. Rebuild toÃ n bá»™ FAISS index
4. Update map_id_name.json
```

---

## ğŸ”§ **11. Cáº¥u hÃ¬nh nÃ¢ng cao**

### **11.1. TÃ¹y chá»‰nh config.py**

```python
# src/config.py

# Model paths
path_model_face_detection = './models/model detect/detect_face.pt'
path_model_face_recognition = './models/model recognite/Facenet_128.h5'

# Database paths
path_vector_db = './database/face_index.faiss'
path_json_id_name = './database/map_id_name.json'

# Recognition threshold (cÃ ng nhá» cÃ ng strict)
threshold_distance = 1.0  # Recommended: 0.8 - 1.2

# Embedding dimension
dim = 128

# MongoDB
MONGO_URI = 'mongodb://localhost:27017/deep-face-shop'

# Flask
SECRET_KEY = 'your-secret-key-here'
DEBUG = False  # Set True for development
PORT = 5000
HOST = '0.0.0.0'  # '0.0.0.0' for network access, '127.0.0.1' for local only
```

### **11.2. Tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t**

#### **Sá»­ dá»¥ng GPU (CUDA):**
```powershell
# Uninstall CPU version
pip uninstall tensorflow

# Install GPU version
pip install tensorflow-gpu==2.15.0

# Verify CUDA
python -c "import tensorflow as tf; print(tf.config.list_physical_devices('GPU'))"
```

#### **Sá»­ dá»¥ng ONNX Runtime (Nhanh hÆ¡n):**
```python
# Uncomment trong src/core/recognition.py
# Sá»­ dá»¥ng detect_face.onnx thay vÃ¬ detect_face.pt
```

#### **Sá»­ dá»¥ng OpenVINO (Intel CPU):**
```python
# Load OpenVINO model
from openvino.runtime import Core
core = Core()
model = core.read_model('models/model detect/detect_face_openvino_model/detect_face.xml')
```

#### **Giáº£m threshold Ä‘á»ƒ tÄƒng Ä‘á»™ chÃ­nh xÃ¡c:**
```python
# src/config.py
threshold_distance = 0.8  # Stricter matching
```

#### **TÄƒng threshold Ä‘á»ƒ giáº£m false negatives:**
```python
threshold_distance = 1.2  # More lenient matching
```

### **11.3. Backup vÃ  Restore**

#### **Backup database:**
```powershell
# Backup MongoDB
mongodump --uri="mongodb://localhost:27017/deep-face-shop" --out=./backup/mongo_$(date +%Y%m%d)

# Backup FAISS index vÃ  mappings
Copy-Item database\face_index.faiss backup\
Copy-Item database\map_id_name.json backup\

# Backup videos
Copy-Item database\data\video backup\ -Recurse
```

#### **Restore database:**
```powershell
# Restore MongoDB
mongorestore --uri="mongodb://localhost:27017/deep-face-shop" ./backup/mongo_20241112

# Restore FAISS vÃ  mappings
Copy-Item backup\face_index.faiss database\
Copy-Item backup\map_id_name.json database\
```

---

## ğŸ› **12. Troubleshooting**

### **Lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c**

#### **1. ImportError: No module named 'tensorflow'**
```powershell
# Solution: CÃ i Ä‘áº·t láº¡i dependencies
.\.venv\Scripts\activate
pip install -r requirements.txt
```

#### **2. MongoDB Connection Error**
```powershell
# Check MongoDB service
net start MongoDB  # Windows
sudo systemctl start mongodb  # Linux

# Test connection
mongosh --eval "db.runCommand({ ping: 1 })"

# Check URI trong config.py
MONGO_URI = 'mongodb://localhost:27017/deep-face-shop'
```

#### **3. Camera khÃ´ng má»Ÿ Ä‘Æ°á»£c**
```python
# Kiá»ƒm tra camera ID
import cv2
for i in range(5):
    cap = cv2.VideoCapture(i)
    if cap.isOpened():
        print(f"Camera {i} available")
        cap.release()

# Thá»­ camera ID khÃ¡c trong app_ui.py
cam = cv2.VideoCapture(0)  # Thá»­ 0, 1, 2...
```

#### **4. FAISS index not found**
```powershell
# Táº¡o má»›i FAISS index rá»—ng
python -c "import faiss; import numpy as np; index = faiss.IndexFlatL2(128); faiss.write_index(index, 'database/face_index.faiss')"

# Táº¡o map_id_name.json rá»—ng
echo {} > database\map_id_name.json
```

#### **5. Model file not found**
```powershell
# Kiá»ƒm tra cÃ¡c file model cÃ³ tá»“n táº¡i:
dir models\model detect\detect_face.pt
dir models\model recognite\Facenet_128.h5

# Download models tá»« release hoáº·c retrain
```

#### **6. Port 5000 Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng**
```powershell
# TÃ¬m process Ä‘ang dÃ¹ng port
netstat -ano | findstr :5000

# Kill process (thay <PID> báº±ng sá»‘ tÃ¬m Ä‘Æ°á»£c)
taskkill /PID <PID> /F

# Hoáº·c Ä‘á»•i port trong app.py
app.run(port=8000)
```

#### **7. Nháº­n diá»‡n sai hoáº·c khÃ´ng nháº­n diá»‡n**
```python
# Äiá»u chá»‰nh threshold trong config.py
threshold_distance = 0.9  # Thá»­ cÃ¡c giÃ¡ trá»‹ tá»« 0.7 Ä‘áº¿n 1.5

# Kiá»ƒm tra cháº¥t lÆ°á»£ng áº£nh Ä‘Äƒng kÃ½:
# - Äá»§ Ã¡nh sÃ¡ng
# - KhuÃ´n máº·t rÃµ nÃ©t
# - KhÃ´ng bá»‹ che khuáº¥t
# - Quay nhiá»u gÃ³c Ä‘á»™

# Re-register khÃ¡ch hÃ ng vá»›i video cháº¥t lÆ°á»£ng tá»‘t hÆ¡n
```

#### **8. Database locked (SQLite) - KhÃ´ng Ã¡p dá»¥ng cho MongoDB**
```powershell
# MongoDB khÃ´ng cÃ³ váº¥n Ä‘á» nÃ y
# Náº¿u sá»­ dá»¥ng SQLite backup, restart application
```

#### **9. Out of Memory (OOM)**
```python
# Giáº£m batch size khi xá»­ lÃ½ video
# Trong video_processor.py
max_frames = 100  # Giáº£m tá»« 300 xuá»‘ng 100

# Giáº£m resolution camera
cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)
cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)
```

#### **10. Slow inference (cháº­m)**
```python
# Option 1: Sá»­ dá»¥ng ONNX
# Uncomment code ONNX trong recognition.py

# Option 2: Resize áº£nh nhá» hÆ¡n
target_size = (160, 160)  # ÄÃ£ tá»‘i Æ°u

# Option 3: Skip frames
if frame_count % 3 == 0:  # Process má»—i 3 frames
    result = recognizer.recognize(frame)
```

---

## ğŸš€ **13. TÃ­nh nÄƒng ná»•i báº­t**

### **âš¡ Real-time Recognition**
- Nháº­n diá»‡n khuÃ´n máº·t â‰¤ 100ms má»—i frame
- YOLO detection: ~20-30 FPS
- FaceNet embedding: ~10-15ms
- FAISS search: <5ms cho database 10,000 faces

### **ğŸ¯ High Accuracy**
- Face detection: 95%+ (YOLO)
- Face recognition: 98%+ (FaceNet vá»›i threshold 1.0)
- False Accept Rate (FAR): <2%
- False Reject Rate (FRR): <3%

### **ğŸ“Š Scalability**
- FAISS há»— trá»£ millions of vectors
- MongoDB sharding cho big data
- CÃ³ thá»ƒ deploy lÃªn cloud (AWS, GCP, Azure)
- Multi-camera support

### **ğŸ” Security**
- Password hashing vá»›i PBKDF2 (SHA256, 100,000 iterations)
- Session-based authentication
- Role-based access control (RBAC)
- Activity logging
- CSRF protection (future)

### **ğŸ“± Responsive UI**
- Mobile-friendly design
- Tablet optimization
- Desktop full features
- Cross-browser compatibility

---

## ğŸ“ˆ **14. Káº¿ hoáº¡ch phÃ¡t triá»ƒn**

### **Phase 1: Completed âœ…**
- âœ… Core face recognition pipeline
- âœ… YOLO + FaceNet + FAISS integration
- âœ… Flask web application
- âœ… Admin & Staff dashboards
- âœ… MongoDB integration
- âœ… User authentication & authorization
- âœ… Product & Customer management
- âœ… Order processing
- âœ… Analytics & reports

### **Phase 2: In Progress ğŸš§**
- ğŸ”„ Email notifications
- ğŸ”„ SMS alerts cho khÃ¡ch hÃ ng
- ğŸ”„ Advanced analytics vá»›i ML
- ğŸ”„ Mobile app (React Native)
- ğŸ”„ API documentation (Swagger)
- ğŸ”„ Unit tests & integration tests
- ğŸ”„ Docker containerization

### **Phase 3: Future ğŸ”®**
- ï¿½ PWA (Progressive Web App)
- ğŸŒ Multi-language support (VN/EN)
- ğŸ“· QR Code integration
- ğŸ’³ Payment gateway integration
- ğŸ”” Real-time notifications (WebSocket)
- ğŸ“Š Advanced BI dashboard (PowerBI/Tableau)
- ğŸ¤– Chatbot customer service
- ğŸ” Elasticsearch full-text search
- â˜ï¸ Cloud deployment (AWS/GCP)
- ğŸ“ Training mode cho staff
- ğŸ“± Loyalty program integration
- ğŸ” Two-factor authentication (2FA)

---

## ğŸ¤ **15. ÄÃ³ng gÃ³p (Contributing)**

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p cho dá»± Ã¡n!

### **CÃ¡ch Ä‘Ã³ng gÃ³p:**

1. **Fork repository**
```bash
# Fork trÃªn GitHub
# Clone fork vá» mÃ¡y
git clone https://github.com/YOUR_USERNAME/Face-Recognite-AI-Edge-VietNam.git
```

2. **Táº¡o branch má»›i**
```bash
git checkout -b feature/AmazingFeature
```

3. **Commit changes**
```bash
git add .
git commit -m "Add some AmazingFeature"
```

4. **Push to branch**
```bash
git push origin feature/AmazingFeature
```

5. **Táº¡o Pull Request**
- Má»Ÿ Pull Request trÃªn GitHub
- MÃ´ táº£ chi tiáº¿t thay Ä‘á»•i
- ÄÃ­nh kÃ¨m screenshots náº¿u cÃ³ UI changes

### **ğŸ“‹ Coding Standards**

**Python:**
- Follow PEP 8 style guide
- Use meaningful variable/function names
- Add docstrings cho functions/classes
- Type hints cho function parameters & returns

```python
def get_face_embedding(img: np.ndarray) -> np.ndarray:
    """
    Generate face embedding from image.
    
    Args:
        img (np.ndarray): Input image in BGR format.
    
    Returns:
        np.ndarray: 128D embedding vector.
    """
    ...
```

**JavaScript:**
- Use ES6+ syntax
- Use `const` / `let` instead of `var`
- Add comments for complex logic

**HTML/CSS:**
- Semantic HTML5
- BEM naming convention for CSS classes
- Responsive design principles

### **ğŸ§ª Testing**

```python
# Cháº¡y tests
pytest tests/

# Test coverage
pytest --cov=src tests/
```

### **ğŸ“ Documentation**

- Update README.md náº¿u thay Ä‘á»•i features
- Add docstrings cho code má»›i
- Comment cho logic phá»©c táº¡p
- Update API documentation

---

## ğŸ“œ **16. License**

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch **há»c táº­p vÃ  nghiÃªn cá»©u** táº¡i:
- **Khoa CÃ´ng nghá»‡ ThÃ´ng tin**
- **Äáº¡i há»c Äáº¡i Nam**

```
MIT License

Copyright (c) 2025 Äáº¡i há»c Äáº¡i Nam - Khoa CÃ´ng nghá»‡ ThÃ´ng tin

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

Â© 2025 - Äáº¡i há»c Äáº¡i Nam. All rights reserved.

---

## ğŸ“¬ **17. LiÃªn há»‡**

### **ğŸ« ÄÆ¡n vá»‹ thá»±c hiá»‡n**
<div align="center">

**KHOA CÃ”NG NGHá»† THÃ”NG TIN**  
**Äáº I Há»ŒC Äáº I NAM**

</div>

- ğŸŒ **Website Khoa:** [dainam.edu.vn/vi/khoa-cong-nghe-thong-tin](https://dainam.edu.vn/vi/khoa-cong-nghe-thong-tin)
- ğŸŒ **Website TrÆ°á»ng:** [dainam.edu.vn](https://dainam.edu.vn)
- ğŸ“± **Facebook Lab:** [AIoTLab - FIT DNU](https://www.facebook.com/DNUAIoTLab)
- ğŸ“§ **Email:** fit@dainam.edu.vn
- ğŸ“ **Äá»‹a chá»‰:** Äáº¡i há»c Äáº¡i Nam, HÃ  Ná»™i, Viá»‡t Nam

### **ğŸ‘¨â€ğŸ« Giáº£ng viÃªn hÆ°á»›ng dáº«n**
- **Há» tÃªn:** [ThS. LÃª Trung Hiáº¿u, KS. Nguyá»…n ThÃ¡i KhÃ¡nh]
- **Email:** [email@dainam.edu.vn]
- **Khoa:** CÃ´ng nghá»‡ ThÃ´ng tin

### **ğŸ‘¨â€ğŸ“ Sinh viÃªn thá»±c hiá»‡n**
- **Há» tÃªn:** [Nguyá»…n Thá»‹ Viáº¿t Lá»£i]
- **MÃ£ sinh viÃªn:** [1671020194]
- **Lá»›p:** [Cntt 16-05]
- **Email:** [student@example.com]

### **ğŸ”— Repository & Support**
- **GitHub:** [github.com/yourusername/Face-Recognite-AI-Edge-VietNam](https://github.com/yourusername/Face-Recognite-AI-Edge-VietNam)
- **Issues:** [Report bugs](https://github.com/yourusername/Face-Recognite-AI-Edge-VietNam/issues)
- **Discussions:** [Join discussions](https://github.com/yourusername/Face-Recognite-AI-Edge-VietNam/discussions)

---

<div align="center">

### â­ **Náº¿u báº¡n tháº¥y dá»± Ã¡n há»¯u Ã­ch, hÃ£y cho má»™t Star nhÃ©!** â­

**Made with â¤ï¸ by Students of Faculty of Information Technology - DaiNam University**
